<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="QR code generator â€“ create QR codes for text or URLs." />
  <title>QR Code Generator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../assets/css/styles.css" />
</head>
<body>
  <div id="site-header"></div>
  <main class="container py-4 tool-container">
    <div class="row g-4">
      <div class="col-lg-8">
        <div class="tool-panel">
          <h1 class="h3 mb-3">QR Code Generator</h1>
          <div class="row g-3">
            <div class="col-12">
              <input id="qr-text" class="form-control" placeholder="Enter text or URL" />
            </div>
            <div class="col-12 d-flex gap-2">
              <button id="qr-make" class="btn btn-primary">Generate</button>
              <button id="qr-download" class="btn btn-outline-secondary">Download PNG</button>
            </div>
            <div class="col-12 text-center">
              <canvas id="qr-canvas" width="256" height="256" class="border rounded"></canvas>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4"><div class="ad-slot sidebar-ad">Ad 300x250</div></div>
    </div>
  </main>
  <div id="site-footer"></div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/js/includes.js"></script>
  <script>
  // Lightweight QR render using third-party-free algorithm is complex; use a tiny MIT lib via CDN
  // qrcode-generator library (MIT): https://github.com/kazuhikoarase/qrcode-generator
  (function(){
    var script=document.createElement('script');
    script.src='https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.js';
    script.onload=function(){
      var input=document.getElementById('qr-text');
      function render(){
        var text=input.value||''; if(!text) return;
        var qr = qrcode(0, 'M');
        qr.addData(text);
        qr.make();
        var cellSize=4, margin=2;
        var size = qr.getModuleCount() * cellSize + margin*2*cellSize;
        var canvas=document.getElementById('qr-canvas');
        canvas.width=size; canvas.height=size;
        var ctx=canvas.getContext('2d');
        ctx.fillStyle='#fff'; ctx.fillRect(0,0,size,size);
        ctx.fillStyle='#000';
        for(var r=0;r<qr.getModuleCount();r++){
          for(var c=0;c<qr.getModuleCount();c++){
            if(qr.isDark(r,c)){
              ctx.fillRect((c+margin)*cellSize,(r+margin)*cellSize,cellSize,cellSize);
            }
          }
        }
      }
      document.getElementById('qr-make').addEventListener('click', render);
      document.getElementById('qr-download').addEventListener('click', function(){
        var link=document.createElement('a');
        link.download='qr.png';
        link.href=document.getElementById('qr-canvas').toDataURL('image/png');
        link.click();
      });
    };
    document.head.appendChild(script);
  })();
  </script>
</body>
</html>

